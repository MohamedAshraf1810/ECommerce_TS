import{r as l,m as y,u as q,j as m,B,w as L,V as _,q as U}from"./index-BzLzT3j-.js";function k(){const[,e]=l.useReducer(o=>!o,!1);return e}const h=l.createContext(null),S=(e,o=null)=>e!=null?String(e):o||null,N=l.createContext(null);N.displayName="NavContext";const A=l.createContext(null),V=["as","active","eventKey"];function W(e,o){if(e==null)return{};var s={},c=Object.keys(e),n,t;for(t=0;t<c.length;t++)n=c[t],!(o.indexOf(n)>=0)&&(s[n]=e[n]);return s}function F({key:e,onClick:o,active:s,id:c,role:n,disabled:t}){const v=l.useContext(h),d=l.useContext(N),x=l.useContext(A);let f=s;const r={role:n};if(d){!n&&d.role==="tablist"&&(r.role="tab");const i=d.getControllerId(e??null),p=d.getControlledId(e??null);r[y("event-key")]=e,r.id=i||c,f=s==null&&e!=null?d.activeKey===e:s,(f||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(r["aria-controls"]=p)}return r.role==="tab"&&(r["aria-selected"]=f,f||(r.tabIndex=-1),t&&(r.tabIndex=-1,r["aria-disabled"]=!0)),r.onClick=q(i=>{t||(o==null||o(i),e!=null&&v&&!i.isPropagationStopped()&&v(e,i))}),[r,{isActive:f}]}const D=l.forwardRef((e,o)=>{let{as:s=B,active:c,eventKey:n}=e,t=W(e,V);const[v,d]=F(Object.assign({key:S(n,t.href),active:c},t));return v[y("active")]=d.isActive,m.jsx(s,Object.assign({},t,v,{ref:o}))});D.displayName="NavItem";const M=D,Y=["as","onSelect","activeKey","role","onKeyDown"];function z(e,o){if(e==null)return{};var s={},c=Object.keys(e),n,t;for(t=0;t<c.length;t++)n=c[t],!(o.indexOf(n)>=0)&&(s[n]=e[n]);return s}const E=()=>{},R=y("event-key"),P=l.forwardRef((e,o)=>{let{as:s="div",onSelect:c,activeKey:n,role:t,onKeyDown:v}=e,d=z(e,Y);const x=k(),f=l.useRef(!1),r=l.useContext(h),i=l.useContext(A);let p,K;i&&(t=t||"tablist",n=i.activeKey,p=i.getControlledId,K=i.getControllerId);const g=l.useRef(null),j=a=>{const u=g.current;if(!u)return null;const b=U(u,`[${R}]:not([aria-disabled=true])`),I=u.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const O=b.indexOf(I);if(O===-1)return null;let C=O+a;return C>=b.length&&(C=0),C<0&&(C=b.length-1),b[C]},w=(a,u)=>{a!=null&&(c==null||c(a,u),r==null||r(a,u))},T=a=>{if(v==null||v(a),!i)return;let u;switch(a.key){case"ArrowLeft":case"ArrowUp":u=j(-1);break;case"ArrowRight":case"ArrowDown":u=j(1);break;default:return}u&&(a.preventDefault(),w(u.dataset[_("EventKey")]||null,a),f.current=!0,x())};l.useEffect(()=>{if(g.current&&f.current){const a=g.current.querySelector(`[${R}][aria-selected=true]`);a==null||a.focus()}f.current=!1});const $=L(o,g);return m.jsx(h.Provider,{value:w,children:m.jsx(N.Provider,{value:{role:t,activeKey:S(n),getControlledId:p||E,getControllerId:K||E},children:m.jsx(s,Object.assign({},d,{onKeyDown:T,ref:$,role:t}))})})});P.displayName="Nav";const H=Object.assign(P,{Item:M});export{H as B,N,h as S,F as a,S as m,k as u};
